> article {
	@extend %type--layout;

	// Sequential spacing between `p`.
	--typography--leading-shoulder: calc(var(--typography--font-size) * (var(--typography--leading) + var(--typography--shoulder) * 2));

	// Basics.
	h1 { display: none } // So we don’t forget.

	> *:not(:first-child) { margin-top: var(--margin--top, var(--typography--leading-shoulder)) }

	h2 {
		--margin--top: calc(var(--margin--vertical) * 4);

		+ * {
			--margin--top:           calc(var(--margin--vertical) * 2);
			--margin--top--previous: calc(var(--margin--vertical) * 4);

			+ * { --margin--top--previous: calc(var(--margin--vertical) * 2) }
		}
	}

	h3 {
		--margin--top: calc(var(--margin--vertical) * 2);
	}



	// Manual spacing decisions.
	.four-above {
		--margin--top: calc(var(--margin--vertical) * 4);

		+ * { --margin--top--previous: calc(var(--margin--vertical) * 4) }
	}

	.four-below {
		+ * { --margin--top: calc(var(--margin--vertical) * 4)}
	}



	// Quotes/callouts.
	blockquote {
		--typography--size: var(--typography--size--h3);

		font-style: italic;

		&.callout {
			--typography--size: var(--typography--size--base);

			border-color: var(--color);
			border-style: solid;
			border-width: var(--divider--width);
			display:      flex;
			font-style:   normal;
			padding:      calc(var(--typography--cap) * 2);

			&[icon]:before {
				@extend .icon--wingdings;

				color:        var(--color);
				content:      attr(icon);
				height:       1em;
				margin-left:  initial;
				margin-right: calc(var(--typography--cap) * 2);
				margin-top:   var(--typography--margin--top);
				text-align:   center;
				width:        1em;
			}
		}

		&.pull-quote {
			border-left-color: var(--color);
			border-left-style: solid;
			border-left-width: var(--divider--width);
			padding-left:      var(--margin);
			padding-right:     var(--margin);

			// Credit.
			> blockquote:last-child {
				--typography--size: var(--typography--size--base);

				font-style: normal;
				margin-top: var(--margin);

				> p > a:only-child {
					@extend %font--underline--disable;

					&:after {
						@extend .center--x;
						@extend .icon--sf;

						content: '↗';
					}
				}
			}
		}
	}



	// Links.
	a {
		@extend %link--text;
		@extend %font--underline;

		--color: var(--link--color);

		color: var(--link--color);
	}

	// Prominence for link-only paragraphs/li.
	.link-only > a {
		@extend %font--underline--disable;
		@extend %icon--external;

		display: table-row; // Lil’ trick to force any subsequent text underneath.
	}

	p {
		max-width: 75ch;

		strong {
			@extend %font--times--bold;

			font-weight: var(--typography--weight);
		}
	}



	// Lists.
	ul,
	ol {
		display:             grid;
		gap:                 var(--typography--between);
		list-style-position: outside;

		> li {
			@extend %typography; // For paragraph-less lists.

			display:      list-item;
			margin-top:   var(--typography--margin--top);
			padding-left: 0.4em;

			@include browser-specific(safari) { padding-left: 0.3em }

			&:before { display: none } // Collides with the marker, so we use the margin.

			> p {
				padding-left: 0.8em;

				&:first-child:before,
				&:last-child:after { display: none }; // Since the `li` is a type element.

				&:not(:first-child) { margin-top: var(--typography--leading-shoulder) }
				&:not(:only-child):last-child { margin-bottom: calc(var(--typography--font-size) * var(--typography--leading)) }
			}

			&:not(:first-child) > p:first-child { margin-top: calc(var(--typography--font-size) * var(--typography--leading)) }
		}
	}

	ul {
		list-style-type: disc;
		padding-left:    0.8em;

		@include browser-specific(safari) { padding-left: 1em }
	}

	ol {
		list-style-type: decimal;
		padding-left:    0.95em;

		@include browser-specific(safari) { padding-left: 1.25em }
	}



	// Open/close details/summary.
	details {
		> summary {
			@extend %link--element;

			--color: var(--color--links);

			> p {
				margin-bottom: var(--typography--margin--bottom);

				&:after {
					@extend .icon--sf;
					@extend .center--x;

					--icon--scale: 1.25;

					content:          '+';
					font-weight:      200;
					margin-bottom:    initial;
					text-align:       center;
					transform-origin: bottom;
					visibility:       visible; // Override typography pseudo.
					width:            1em;
				}
			}
		}

		&[open] > summary > p:after {content: '–' }

		// The contents.
		> div { margin-top: var(--typography--leading-shoulder) }

		+ * { --margin--top: calc(var(--margin--vertical) * 2) }
	}



	// Images!
	figure {
		--margin--top: calc(var(--margin--vertical) * 2);

		display:        flex;
		flex-direction: column;
		width:          fit-content;

		> img { max-height: 66vh }

		> figcaption {
			--typography--leading: var(--typography--leading--tight);

			margin-top: var(--typography--between);

			> p > a {
				@extend %font--underline--disable;

				&:only-child span:not(._) { margin-left: initial }
			}
		}

		+ * {
			--margin--top:           calc(var(--margin--vertical) * 2);
			--margin--top--previous: calc(var(--margin--vertical) * 2);

			+ * { --margin--top--previous: calc(var(--margin--vertical) * 2) }
		}
	}



	aside {
		@extend .right;
		@extend %type--layout;

		--margin--top: calc(var(--margin--vertical) * 2);

		> h3 { margin-bottom: var(--margin--vertical) }

		> menu {
			--typography--leading: var(--typography--leading--loose);

			display:        flex;
			flex-direction: column;
			gap:            var(--typography--between);

			> li > a { @extend %link--element }
		}

		> figure:not(:first-child) { margin-top: var(--typography--between) }
	}



	// Lower for the cascade.
	hr,
	blockquote {
		--margin--top: calc(var(--margin--vertical) * 4);

		+ * {
			--margin--top:           calc(var(--margin--vertical) * 4);
			--margin--top--previous: calc(var(--margin--vertical) * 4);

			+ * { --margin--top--previous: calc(var(--margin--vertical) * 4) }
		}
	}


	// Column stuff.
	@include breakpoint(568) {
		align-items:           start;
		display:               grid;
		grid-template-columns: repeat(3, minmax(0, 1fr));
		column-gap:            var(--margin);

		> * { grid-column: 1 / span 3 } // Everything full width, by default.

		.left {
			grid-column:   1 / span 2;
			padding-right: var(--margin);

			&:first-child + .right { --margin--top: 0rem; }
			&:not(:first-child)+ .right { --margin--top: var(--margin--top--previous) }
		}

		.right {
			grid-column: 3 / span 1;
		}

		.left,
		.right {
			@for $row from 1 through 12 {
				&[rows="#{$row}"] {
					grid-row: span $row;
				}
			}
		}
	}
}
