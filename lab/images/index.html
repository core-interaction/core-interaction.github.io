<!DOCTYPE html>
<html class="lab">
	<head>
		<meta content="initial-scale=1, width=device-width, viewport-fit=cover" name="viewport">

		<title>Working with images</title>
		<link href="/assets/styles/reset.css" rel="stylesheet">
		<link href="/assets/styles/common.css" rel="stylesheet">
		<link href="/assets/styles/syntax.css" rel="stylesheet">

		<script src="/assets/scripts/common.js"></script>


		<meta name="theme-color" content="#000000">
		<link href="/assets/icons/blue.png" rel="icon" sizes="64x64" type="image/x-icon">
		<link href="/assets/icons/blue.png" rel="apple-touch-icon">

	</head>
	<body class="
			
				
					landing
				
			
			">
		<main>

			<header>
				<h1>Working with images</h1>
				<ul>
					<li><a href="#image-formats">Image formats!</a></li>
					<li><a href="#sizing-and-containers">Sizing and containers</a></li>
					<li><a href="#object-fit">Object-fit</a></li>
					<li><a href="#aspect-ratio">Aspect-ratio</a></li>
					<li><a href="#background-image">Background-image</a></li>
					<li><a href="#figure--figcaption">Figure / figcaption</a></li>
					<li><a href="#picture-source-andresponsiveimages">Picture, source, andÂ responsiveÂ images</a></li>
				</ul>
			</header>

			<article>
				<p class="left">We kind of breezed past this, so letâ€™s look at some more specifics around using images on the web.</p>

				<ul class="icon-link no-marker right" rows="2">
					<li>
						<p><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML">Images in HTML | MDN</a> <br />
							<em>Pretty good overview.</em>
						</p>
					</li>
					<li>
						<p><a href="https://web.dev/choose-the-right-image-format/">Choose the right image format - web.dev</a> <br />
							<em>Also discusses â€œHighÂ DPIâ€ (HiDPI) screens.</em>
						</p>
					</li>
				</ul>

				<p>Remember that images werenâ€™t aÂ part of the <a href="/lab/everything/#when-was-the-web-invented">earlyÂ web</a>, and so likeÂ CSS, feelÂ somewhat â€œbolted onâ€ and are still somewhat tricky toÂ workÂ with. ItÂ has gotten much better recently, though!</p>

				<blockquote class="quote">
					<p>Iâ€™d like to propose a new, optional HTML tag:</p>

					<p>IMG</p>

					<p>Required argument is SRC=â€³urlâ€³.</p>

					<p>This names a bitmap or pixmap file for the browser to attempt to pull over the network and interpret as anÂ image, to be embedded in the text at the point of the tagâ€™s occurrence. An example is:</p>

					<p>&lt;IMG SRC=â€³file://foobar.com/foo/bar/blargh.xbmâ€³&gt;</p>
				</blockquote>

				<p><cite><a href="http://1997.webhistory.org/www.lists/www-talk.1993q1/0182.html">Marc Andreessen</a></cite></p>

				<p class="two-above">(I DONâ€™T KNOW IF WE TOLD YOU BUT HTML <a href="https://www.w3.org/TR/html40/struct/global.html">USED TO SHOUT</a>.)</p>

				<h2 id="image-formats">Image formats!</h2>

				<p>There are several commonly used image formats on the web, eachÂ withÂ their own purpose:</p>

				<dl>
					<dt><code class="language-plaintext highlighter-rouge">.GIF</code> <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#gif_graphics_interchange_format">(Graphics Interchange Format)</a></dt>
					<dd>An early <a href="https://en.wikipedia.org/wiki/Raster_graphics">raster/bitmap format</a>, heavily compressed with reduced palettes. It survives now because it does animations! This is the only reason toÂ use this format, nowadays.</dd>
					<dd>
						<p>GIF compression is primitive and so they can quickly have <em>huge</em> file-sizes<span class="mdash">â€”</span>and can still slow down computers (downloading and rendering) even now. BeÂ careful with these.</p>
					</dd>
					<dd>
						<p>IÂ say <em>GIF</em> with aÂ hard <em>G</em> (as in <em>gift</em>), andÂ I am your instructor and amÂ right.</p>
					</dd>
					<dt><code class="language-plaintext highlighter-rouge">.JPG</code> / <code class="language-plaintext highlighter-rouge">.JPEG</code> <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#png_portable_network_graphics">(Joint Photographic [Experts] Group)</a></dt>
					<dd>Ancient-but-timeless raster/bitmap format that is good for photos. JPGs can compress images down toÂ much smaller file sizes with adjustable, lossy <a href="https://en.wikipedia.org/wiki/JPEG#Effects_of_JPEG_compression">compression ratios</a>.</dd>
					<dd>
						<p>The busyness of photos tends toÂ hide the resulting <em>compression artifacts</em> better than simple illustrations/graphics, so JPG lives on as aÂ common, widely-used imageÂ format.</p>
					</dd>
					<dt><code class="language-plaintext highlighter-rouge">.PNG</code> <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#png_portable_network_graphics">(Portable Network Graphics)</a></dt>
					<dd>Still raster/bitmap, but much better than GIFs (if you donâ€™t need animation) as they can use <a href="https://en.wikipedia.org/wiki/Portable_Network_Graphics#Advantages">lossless compression</a> and have alpha-channel transparency.</dd>
					<dd>
						<p>Use PNGs for illustrations and graphics<span class="mdash">â€”</span>things with large areas of repeated colors<span class="mdash">â€”</span>or where you need exact color accuracy. (But many of these should beÂ SVGs, upÂ next.)</p>
					</dd>
					<dt><code class="language-plaintext highlighter-rouge">.SVG</code> <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#svg_scalable_vector_graphics">(Scaleable Vector Graphics)</a></dt>
					<dd>Finally, aÂ <a href="https://en.wikipedia.org/wiki/Vector_graphics">vector format</a>! SVGs should be used for any icons, logos, or illustrations<span class="mdash">â€”</span>provided you have access toÂ the original source artwork for the vectors (shapes).</dd>
					<dd>
						<p>They store the vectors in code (aÂ bit like HTML, weâ€™ll see), and can be scaled cleanly forÂ different sizes/resolutions. You can also target them with CSS, if they are <em>inlined</em> (embedded) into yourÂ DOM.</p>
					</dd>
					<dd>
						<p>When targeting (orÂ editing) SVG contents, note they have <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes">slightly different syntax</a> than HTML CSS<span class="mdash">â€”</span>using <code class="language-plaintext highlighter-rouge">fill</code> andÂ <code class="language-plaintext highlighter-rouge">stroke</code> instead ofÂ <code class="language-plaintext highlighter-rouge">color</code> and <code class="language-plaintext highlighter-rouge">border</code>, forÂ example. Also remember that <code class="language-plaintext highlighter-rouge">width</code> and <code class="language-plaintext highlighter-rouge">height</code> attributes will fix theÂ SVG size (just like <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code>); useÂ theÂ <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox">viewBox attribute</a> if you want them toÂ scale.</p>
					</dd>
				</dl>

				<h2 id="sizing-and-containers">Sizing and containers</h2>

				<p>If you remember way back toÂ our <a href="/lab/html/">HTML intro</a>, images are aÂ special HTMLÂ element:</p>

				<div style="max-width: 60rem;" class="language-html highlighter-rouge">
					<div class="highlight">
						<pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"tim.jpg"</span> <span class="na">alt=</span><span class="s">"Tim Berners-Lee at a computer."</span><span class="nt">&gt;</span>
</code></pre>
					</div>
				</div>
				<p class="four-below" style="margin-top: var(--typography--between);"><em>A JPG in the same folder as the HTML (relative path/URL). Always write anÂ <code class="language-plaintext highlighter-rouge">alt</code> textÂ forÂ accessibility.</em></p>

				<p>By default, images will scale toÂ their <em>intrinsic</em> size<span class="mdash">â€”</span>the (<em>1x</em>) pixel dimensions<span class="mdash">â€”</span>and are <em>inline</em>Â elements:</p>

				<figure style="--height--max: 36rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image/demo"></iframe>
					</div>



					<figcaption>This image file is 250 pixels wide. Note the extra space atÂ the bottom, from <code class="language-plaintext highlighter-rouge">display: inline;</code></figcaption>

				</figure>

				<p>Most <a href="/lab/css/#resets">resets (like ours)</a> include aÂ <code class="language-plaintext highlighter-rouge">max-width: 100%</code> for <nobr>images<span class="mdash">â€”</span></nobr>otherwise they would poke out of their containers!</p>

				<p>This intrinsic/inline behavior is rarely what you <nobr>want<span class="mdash">â€”</span></nobr>more often your image should be sized <em>from</em> your design, not vice-versa. Also by default the image is scaled toÂ <a href="https://tomroth.com.au/dpr/">CSS pixels</a>, so it is blurry on modern <em>HiDPI</em> (a.k.a. <a href="https://en.wikipedia.org/wiki/Retina_display"><em>retina</em></a>, <em>2x</em>, <em>3x</em>) screens<span class="mdash">â€”</span>which is most ofÂ us, theseÂ days.</p>

				<p class="two-above">In the past, you would manually set an image size within your HTML via special <code class="language-plaintext highlighter-rouge">width</code>Â andÂ <code class="language-plaintext highlighter-rouge">height</code> attributes:</p>

				<div class="language-html one-above highlighter-rouge" style="max-width: 86rem;">
					<div class="highlight">
						<pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"tim.jpg"</span> <span class="na">alt=</span><span class="s">"Tim Berners-Lee at a computer."</span> <span class="na">width=</span><span class="s">"230"</span> <span class="na">height=</span><span class="s">"150"</span><span class="nt">&gt;</span>
</code></pre>
					</div>
				</div>
				<p style="margin-top: var(--typography--between);"><em>No units, even.</em></p>

				<p>But this forces the image into aÂ fixed size, which doesnâ€™t work well in our modern, responsive, many-device-width context. We donâ€™t do this much anymore.</p>

				<p class="two-above">SoÂ often youâ€™ll want toÂ set images toÂ <code class="language-plaintext highlighter-rouge">display: block;</code>, and then control their size/positioning via CSS, just like any other elements. Make sure your actual actual image dimensions are (at least) roughly twice their displayed, <em>CSS pixel</em> size, so nothing is blurry:</p>

				<figure style="--height--max: 34rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image-block/demo"></iframe>
					</div>



					<figcaption>This image file is 1600 pixels wide. Drag that divider.</figcaption>

				</figure>

				<h2 id="object-fit">Object-fit</h2>

				<p>CSS also added the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit">object-fit</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-position">object-position</a> properties for sizing images <em>within</em> their containers<span class="mdash">â€”</span>as if the image file is aÂ child ofÂ <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code>. This is usually when setting anÂ <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> toÂ fill aÂ container:</p>

				<figure style="--height--max: 59rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image-object-fit/demo"></iframe>
					</div>



					<figcaption>Note the height on the section, otherwise the container would still resize toÂ the image. Adjust the divider toÂ see the behavior!</figcaption>

				</figure>

				<h2 id="aspect-ratio">Aspect-ratio</h2>

				<p>Recently (just last year) CSS also added anÂ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio">aspect-ratio property</a>, toÂ control the width-to-height ratio of anÂ element<span class="mdash">â€”</span>maintaining this relationship as anÂ element scales. (This used to be <a href="https://css-tricks.com/aspect-ratio-boxes/">unnecessarily hard</a> toÂ achieve. CSS heights are always weird!)</p>

				<p>This is not <em>just</em> for images (you can use it on anything!), butÂ commonly comes up when usingÂ them:</p>

				<figure style="--height--max: 30rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image-aspect-ratio/demo"></iframe>
					</div>



					<figcaption>Note that without the <code class="language-plaintext highlighter-rouge">object-fit: cover;</code>, Tim would beÂ distorted toÂ the ratio! Donâ€™tÂ distort Tim (or generally, most images) unless you really meanÂ to.</figcaption>

				</figure>

				<h2 id="background-image">Background-image</h2>

				<p>You can also use images as backgrounds on elements with the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-image">background-image</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-size">
						<nobr>background-size</nobr>
					</a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-origin">background-origin</a>
					<nobr>properties<span class="mdash">â€”</span></nobr>particularly if you want toÂ put something inÂ front ofÂ them, likeÂ text.
				</p>

				<p>However this isnâ€™t very semantic, as it blurs the content/<wbr />presentation boundaries<span class="mdash">â€”</span>since the image paths are moved into your CSS, and there is no <code class="language-plaintext highlighter-rouge">alt</code> text description for screen-readers. SoÂ you should <em>only</em> use this for contextual or decorative images<span class="mdash">â€”</span>not your actual content:</p>

				<figure style="--height--max: 32rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image-background/demo"></iframe>
					</div>



					<figcaption>I wouldnâ€™t use something like this as aÂ background. MindÂ your legibility!</figcaption>

				</figure>

				<blockquote class="callout" icon="ğŸ¤”">
					<p>Think, â€œwould this page make sense if IÂ couldnâ€™t see this image?â€ IfÂ the answer is â€œno,â€ then use anÂ <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> with anÂ <code class="language-plaintext highlighter-rouge">alt</code>, instead. Use the <code class="language-plaintext highlighter-rouge">alt</code> text to convey the meaning.</p>
				</blockquote>

				<h2 id="figure--figcaption">Figure / figcaption</h2>

				<p>Speaking of semantics<span class="mdash">â€”</span>HTML also has aÂ <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figure">figure</a> element that you can use toÂ associate anÂ image (or other visual) with aÂ visible <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figcaption">figcaption</a> description orÂ legend. These containers formally link the meaning/context of the elements together.</p>

				<figure style="--height--max: 38rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image-figure/demo"></iframe>
					</div>



					<figcaption>These can also be used toÂ group things like videos, illustrations, and diagrams withÂ theirÂ captions.</figcaption>

				</figure>

				<blockquote class="callout" icon="ğŸ¤">
					<p>Including visible captions/descriptions is aÂ good example of theÂ <a href="https://dceg.cancer.gov/about/diversity-inclusion/inclusivity-minute/2021/curb-cut-effect">â€œcurb-cutâ€ approach/<wbr />philosophy</a> towards accessibility<span class="mdash">â€”</span>your <code class="language-plaintext highlighter-rouge">alt</code> text description could beÂ useful for more than justÂ folks using screenÂ readers! Strive for this broad benefit in all your accessibilityÂ work.</p>
				</blockquote>

				<h2 id="picture-source-andresponsiveimages">Picture, source, andÂ responsiveÂ images</h2>

				<p>With regards to their layout, you make images responsive in the same way you make all your page structure responsive<span class="mdash">â€”</span>byÂ writing <a href="/lab/responsive/#mobile-first-design"><em>mobile-first</em></a> front-end for their containers. You can change their flow, size, shape, and so-on.</p>

				<p>But images introduce some additional considerations, going across breakpoints. You might want toÂ serve/<wbr />show different images atÂ different sizes<span class="mdash">â€”</span>whether for dimensional (file-size, bandwidth, performance) or art-direction (scale, crop) reasons. The exact same image <code class="language-plaintext highlighter-rouge">src</code> file is <em>rarely</em> ideal at both <code class="language-plaintext highlighter-rouge">375px</code> and <code class="language-plaintext highlighter-rouge">2560px</code>.</p>

				<p>Our venerable <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> element added some control for this with the addition of the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-srcset">srcset </a> andÂ <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-sizes">sizes</a> attributes. But IÂ think it is much easier, atÂ least ergonomically, toÂ skip right into usingÂ theÂ modern <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture">pictureÂ element</a>.</p>

				<p>The <code class="language-plaintext highlighter-rouge">&lt;picture&gt;</code> element is aÂ wrapper/<wbr />container for an <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code>, giving it alternate <code class="language-plaintext highlighter-rouge">&lt;source&gt;</code> tags that offer different image files for different scenarios. They use <a href="/lab/responsive/#media-queries">media-query-like</a> syntax toÂ change what image is loaded andÂ displayed:</p>

				<figure style="--height--max: 50rem">

					<div class="example">
						<iframe allowfullscreen="" src="/example/image-picture/demo"></iframe>
					</div>



					<figcaption>This is all in the HTML; there is no (relevant) CSS. Adjust the divider to see theÂ swaps!</figcaption>

				</figure>

				<p>Note that you still include theÂ <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> as aÂ <em>fallback</em><span class="mdash">â€”</span>put your largest size there. IÂ find it helpful to follow the same <em>mobile-first</em> philosophy here as you do in the rest of your code<span class="mdash">â€”</span>putting your smaller images first, and your larger lower. You can have as many <code class="language-plaintext highlighter-rouge">&lt;source&gt;</code> elements as you need<span class="mdash">â€”</span>for image sizing orÂ content.</p>

				<blockquote class="callout" icon="ğŸ¤Œ">
					<p>Responsive images (like the rest of this) can get <a href="https://web.dev/learn/design/picture-element/">very complicated</a>, very quickly<span class="mdash">â€”</span>soÂ always startÂ withÂ the basics (and mobile) first, like in the exampleÂ here.</p>
				</blockquote>

				<!-- Talk about file-sizes? -->
				<!-- How you make images? -->

			</article>
		</main>

	</body>
</html>